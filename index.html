<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>UDP Multichat CLI Application | UDPChat </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="UDP Multichat CLI Application | UDPChat ">
      
      <link rel="icon" href="images/favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/nicocossiom/IngenieriaProtocolos/blob/gh-pages/docfx_project/index.md/#L1">
  </head>

  <script type="module">
    import options from './public/main.js'
    import { init } from './public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="images/logo.png" alt="UDPChat">
            UDPChat
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="udp-multichat-cli-application">UDP Multichat CLI Application</h1>

<p>This chat app is a simple UDP client/server application that allows multiple clients
to connect to a server and send messages to each other. The server is able to handle
multiple clients at once and will broadcast messages to all connected clients.</p>
<p><img src="images/gif6users.gif" alt="Example of 6 users chatting"></p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#udp-multichat-cli-application">UDP Multichat CLI Application</a>
<ul>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#design">Design</a>
<ul>
<li><a href="#client-cli">Client CLI</a></li>
<li><a href="#server-cli">Server CLI</a></li>
<li><a href="#project-structure">Project structure</a></li>
<li><a href="#messages-between-client---server--deserilization">Messages between Client &lt;-&gt; Server | De/Serilization</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#persistence">Persistence</a></li>
<li><a href="#concurrency-model">Concurrency model</a></li>
</ul>
</li>
<li><a href="#basic-functionality-of-a-udp-multichat">Basic functionality of a UDP Multichat</a></li>
<li><a href="#possible-client-states">Possible client states</a></li>
<li><a href="#possible-server-states">Possible server states</a></li>
</ul>
</li>
</ul>
<h2 id="quickstart">Quickstart</h2>
<p>To get the system started you must first start the server. This can be done by running the server CLI application.
See <a href="server/index.html">Server CLI</a> for more information.</p>
<p>Once you have a server clients can be started in order to interact with the server. See <a href="client/index.html">Client CLI</a> for more information.</p>
<h2 id="design">Design</h2>
<h3 id="client-cli">Client CLI</h3>
<p>The client CLI is a simple command line interface that allows the user to interact with the system.</p>
<h3 id="server-cli">Server CLI</h3>
<p>The server CLI is a simple command line interface that allows the for creating a server in the system that can be used by clients in order to send messages to be retransmitted to other registered users.</p>
<h3 id="project-structure">Project structure</h3>
<p>See <a href="api/index.html">Code Documentation</a> for more information.</p>
<h3 id="messages-between-client---server--deserilization">Messages between Client &lt;-&gt; Server | De/Serilization</h3>
<p>Client and server interchange messages in the form of JSONs. The JSONs are deserialized into code usable class objects that represent the messages. Because the messages are serialized into JSONs they can be sent over the network and deserialized into the same class objects on the other side. This allows for easy communication between the client and the server.</p>
<p>A client must be logged in to send messages to the server. The server will then broadcast the message to all other registered users.</p>
<p>For more information about this see <a href="api/UdpChat.Server.ServerService.html">UdpChat.Server.ServerService</a></p>
<h3 id="authentication">Authentication</h3>
<p>The server has basic authentication with a user being able to:</p>
<ul>
<li>register</li>
<li>login</li>
<li>unregister</li>
<li>logout</li>
</ul>
<p>The user is able to send messages to the server. The server will then broadcast on the moment the message to all other users that
are registered. Messaegs are not stored by the server, just retransmitted, hence if a user is not online and logged in they will not receive the messages they have missed.</p>
<p>For examples on how to use the client see <a href="client/examples.html">Client CLI</a>.</p>
<h3 id="persistence">Persistence</h3>
<p>Registered users are persisted into an SQLite3 database. This allows for the server to be restarted and still have the registered users. This allows for user login functionality. This also means that a username must be unique and not registered.</p>
<h3 id="concurrency-model">Concurrency model</h3>
<p>This implementation does not use the typical get request -&gt; explicitly spawn thread/process for request.</p>
<p>Instead it uses an asynchronous programming model. The <code>UdpClient.BeginReceive</code> method to start listening for incoming UDP datagrams from any client. This method is non-blocking and allows the program to continue execution while waiting for incoming messages.</p>
<p>When a message is received, asynchronous handlers are called (depending on which service receives the message). These methods handle incoming messages and perform operations based on the type of message received.</p>
<p>Furthermore, the processing of each incoming message (deserialization, request handling, etc.) is wrapped in a Task.Run call, which queues the specified work to run on the ThreadPool and returns a task handle for that work. This means that each message is processed in its own task, allowing for concurrent processing of multiple messages.</p>
<p>Also note that while UDP allows for the concurrent receipt of messages from multiple clients, it does not guarantee the delivery of messages (i.e., it's a connectionless protocol).</p>
<p>To know more about the specifics of the implementation see <a href="api/UdpChat.Server.CentralRetransmissionServer.html">UdpChat.Server.CentralRetransmissionServer</a> and <a href="api/UdpChat.Server.ServerService.html">UdpChat.Server.ServerService</a>.</p>
<h2 id="basic-functionality-of-a-udp-multichat">Basic functionality of a UDP Multichat</h2>
<pre><code class="lang-mermaid">sequenceDiagram
    participant Client
    participant Server
    participant OtherRegisteredClients

    Client-&gt;&gt;Server: Sends Authentication request
    Server-&gt;&gt;Client: Sends Authentication response
    Client-&gt;&gt;Server: Sends Message
    Server-&gt;&gt;OtherRegisteredClients: Broadcasts Message
    Server-&gt;&gt;Client: Sends Message Ack
</code></pre>
<h2 id="possible-client-states">Possible client states</h2>
<pre><code class="lang-mermaid">sequenceDiagram
    participant Client
    participant Registered
    participant NotRegistered
    participant LoggedIn
    participant NotLoggedIn
    participant SendingMessage
    participant ReceivingChatMessage

    Client -&gt;&gt; Registered: Can be
    Client -&gt;&gt; NotRegistered: Can be
    Registered -&gt;&gt; LoggedIn: Logs in
    NotLoggedIn -&gt;&gt; LoggedIn: Logs in
    NotRegistered -&gt;&gt; Registered: Register
    Registered -&gt;&gt; NotLoggedIn: Can be
    LoggedIn -&gt;&gt; NotLoggedIn: Log out
    LoggedIn -&gt;&gt; NotRegistered: Unregister
    LoggedIn -&gt;&gt; SendingMessage: Sends a message
    LoggedIn -&gt;&gt; ReceivingChatMessage: Receives a message retransmission from the server
</code></pre>
<h2 id="possible-server-states">Possible server states</h2>
<pre><code class="lang-mermaid">sequenceDiagram
    participant Server
    participant ListeningForMessages
    participant ListeningForAuthenticationRequests
    participant AnsweringAuthenticationRequests
    participant RetransmittingMessages

   
    Server -&gt;&gt; ListeningForMessages: Can be
    Server -&gt;&gt; ListeningForAuthenticationRequests: Can be
    ListeningForMessages -&gt;&gt; RetransmittingMessages: Receieves a message from a client
    ListeningForAuthenticationRequests -&gt;&gt;  AnsweringAuthenticationRequests: Receives an authentication request from a client 
</code></pre>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/nicocossiom/IngenieriaProtocolos/blob/gh-pages/docfx_project/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          UDPChat
        </div>
      </div>
    </footer>
  </body>
</html>